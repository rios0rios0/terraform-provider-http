---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "http_request Resource - terraform-provider-http"
subcategory: ""
description: |-
  Represents an HTTP request resource, allowing configuration of various HTTP request parameters and capturing the response details.
---

# http_request (Resource)

Represents an HTTP request resource, allowing configuration of various HTTP request parameters and capturing the response details.

## Example Usage

```terraform
resource "http_request" "example1" {
  method  = "GET"
  path    = "/posts/1"
  headers = {
    "Content-Type" = "application/json"
  }
  is_response_body_json = true
  response_body_id_filter = "$.id"
}

resource "http_request" "example2" {
  method  = "POST"
  path    = "/posts"
  headers = {
    "Content-Type" = "application/json"
  }
  request_body = jsonencode({
    anything = http_request.example1.response_body_json["id"]
  })
}

output "example1_response_body_id" {
  value = http_request.example1.response_body_id
}

output "example2_response_body_id" {
  value = http_request.example1.response_body_json["id"]
}

output "example2_response_body_param" {
  value = lookup(http_request.example1.response_body_json, "param1.param2.value", "")
}
```
# http_request_nonfatal (Resource)

The **`http_request_nonfatal`** resource issues an HTTP request just like  
[`http_request`](./request.md), but treats a **`404 Not Found`** response as a
_successful_ outcome instead of an error.  
This is useful when you want Terraform to keep state for resources that might
or might not exist yet on the remote service without fatalling the `terraform apply`.

> **Note:** Any other non-2xx status code is still considered an error.

---

## Example Usage

```hcl
provider "http" {
  url        = var.api_url
  ignore_tls = true
}

resource "http_request_nonfatal" "canary" {
  method  = "GET"
  path    = "/api/v1/widgets/${var.widget_id}"

  headers = {
    Accept = "application/json"
  }

  is_response_body_json   = true
  response_body_id_filter = "$.metadata.id"
}


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `method` (String) The HTTP method to be used for the request (e.g., GET, POST, PUT, DELETE).
- `path` (String) The URL path for the HTTP request. This should be a relative path (e.g., /api/v1/resource).

### Optional

- `headers` (Map of String) A map of HTTP headers to include in the request. Each key-value pair represents a header name and its corresponding value.
- `is_response_body_json` (Boolean) A boolean flag indicating whether the response body is expected to be in JSON format.
- `request_body` (String) The body content to be sent with the HTTP request. This is typically used for POST and PUT requests.
- `response_body_id_filter` (String) A JSONPath filter used to extract a specific ID from the JSON response body. This is useful for identifying unique elements within the response.

### Read-Only

- `id` (String) A unique identifier for the resource. Format: `<RANDOM UUID>/<PARAMETERS ENCODED IN BASE64>`. This is generated by encoding the entire model (excluding the ID itself) in Base64 format.
- `response_body` (String) The raw body content returned by the server in response to the request.
- `response_body_id` (String) The extracted ID from the JSON response body, based on the provided `response_body_id_filter`. This is only populated if `is_response_body_json` is true.
- `response_body_json` (Map of String) The response body parsed as a Terraform map object. Nested items can be accessed using dot notation (e.g., "response_body_json["nested.item.value"]").
- `response_code` (Number) The HTTP status code returned by the server in response to the request (e.g., 200 for success, 404 for not found).

## Import

Import is supported using the following syntax:

```shell
# generate a random UUID
uuid="00000000-0000-0000-00000-000000000000"

# convert the desired block (http_request.example1) to JSON:
# {
#   "method": "GET",
#   "path": "/posts/1",
#   "headers": {
#     "Content-Type": "application/json"
#   },
#   "is_response_body_json": true,
#   "response_body_id_filter": "$.id"
# }

# encode it to base64
base64="eyJtZXRob2QiOiAiR0VUIiwgInBhdGgiOiAiL3Bvc3RzLzEiLCAiaGVhZGVycyI6IHsiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24ifSwgImlzX3Jlc3BvbnNlX2JvZHlfanNvbiI6IHRydWUsICJyZXNwb25zZV9ib2R5X2lkX2ZpbHRlciI6ICIkLmlkIn0="

# import by using UUID/B64
terraform import http_request.example1 "$uuid/$base64"
```
